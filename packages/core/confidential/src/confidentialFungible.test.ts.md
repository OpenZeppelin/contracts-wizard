# Snapshot report for `src/confidentialFungible.test.ts`

The actual snapshot is saved in `confidentialFungible.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## basic confidentialFungible

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig {␊
        constructor()␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
        {}␊
    }␊
    `

## confidentialFungible name is unicodeSafe

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    ␊
    contract MyTokec is ConfidentialFungibleToken, SepoliaConfig {␊
        constructor()␊
            ConfidentialFungibleToken(unicode"MyTokeć", "MTK", "https://example.com/token")␊
        {}␊
    }␊
    `

## confidentialFungible zama-ethereum

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {EthereumConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, EthereumConfig {␊
        constructor()␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
        {}␊
    }␊
    `

## confidentialFungible premint of 0

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig {␊
        constructor()␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
        {}␊
    }␊
    `

## confidentialFungible premint - max literal - valid

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Contracts ^5.4.0 and Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {FHE, euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    import {SafeCast} from "@openzeppelin/contracts/utils/math/SafeCast.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig {␊
        constructor(address recipient)␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
        {␊
            _mint(recipient, FHE.asEuint64(SafeCast.toUint64(18446744073709551615 * 10 ** (decimals() - 18))));␊
        }␊
    }␊
    `

## confidentialFungible premint - no arithmetic overflow - valid

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Contracts ^5.4.0 and Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {FHE, euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    import {SafeCast} from "@openzeppelin/contracts/utils/math/SafeCast.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig {␊
        constructor(address recipient)␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
        {␊
            _mint(recipient, FHE.asEuint64(SafeCast.toUint64(18 * 10 ** decimals())));␊
        }␊
    }␊
    `

## confidentialFungible premint - e notation - valid

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Contracts ^5.4.0 and Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {FHE, euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    import {SafeCast} from "@openzeppelin/contracts/utils/math/SafeCast.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig {␊
        constructor(address recipient)␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
        {␊
            _mint(recipient, FHE.asEuint64(SafeCast.toUint64(10 * 10 ** decimals())));␊
        }␊
    }␊
    `

## confidentialFungible wrappable

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Contracts ^5.4.0 and Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    import {ConfidentialFungibleTokenERC20Wrapper} from "@openzeppelin/confidential-contracts/token/extensions/ConfidentialFungibleTokenERC20Wrapper.sol";␊
    import {IERC20} from "@openzeppelin/contracts/interfaces/IERC20.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig, ConfidentialFungibleTokenERC20Wrapper {␊
        constructor(IERC20 underlying)␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
            ConfidentialFungibleTokenERC20Wrapper(underlying)␊
        {}␊
    ␊
        // The following functions are overrides required by Solidity.␊
    ␊
        function decimals()␊
            public␊
            view␊
            override(ConfidentialFungibleToken, ConfidentialFungibleTokenERC20Wrapper)␊
            returns (uint8)␊
        {␊
            return super.decimals();␊
        }␊
    }␊
    `

## confidentialFungible votes

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Contracts ^5.4.0 and Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    import {ConfidentialFungibleTokenVotes} from "@openzeppelin/confidential-contracts/token/extensions/ConfidentialFungibleTokenVotes.sol";␊
    import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";␊
    import {EIP712} from "@openzeppelin/contracts/utils/cryptography/EIP712.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig, EIP712, ConfidentialFungibleTokenVotes, AccessControl {␊
        bytes32 public constant HANDLE_VIEWER_ROLE = keccak256("HANDLE_VIEWER_ROLE");␊
    ␊
        constructor(address defaultAdmin, address handleViewer)␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
            EIP712("MyToken", "1")␊
        {␊
            _grantRole(DEFAULT_ADMIN_ROLE, defaultAdmin);␊
            _grantRole(HANDLE_VIEWER_ROLE, handleViewer);␊
        }␊
    ␊
        function _validateHandleAllowance(bytes32 handle)␊
            internal␊
            view␊
            override␊
            onlyRole(HANDLE_VIEWER_ROLE)␊
        {}␊
    ␊
        // The following functions are overrides required by Solidity.␊
    ␊
        function _update(address from, address to, euint64 amount)␊
            internal␊
            override(ConfidentialFungibleToken, ConfidentialFungibleTokenVotes)␊
            returns (euint64 transferred)␊
        {␊
            return super._update(from, to, amount);␊
        }␊
    ␊
        function confidentialTotalSupply()␊
            public␊
            view␊
            override(ConfidentialFungibleToken, ConfidentialFungibleTokenVotes)␊
            returns (euint64)␊
        {␊
            return super.confidentialTotalSupply();␊
        }␊
    }␊
    `

## confidentialFungible votes + blocknumber

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Contracts ^5.4.0 and Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    import {ConfidentialFungibleTokenVotes} from "@openzeppelin/confidential-contracts/token/extensions/ConfidentialFungibleTokenVotes.sol";␊
    import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";␊
    import {EIP712} from "@openzeppelin/contracts/utils/cryptography/EIP712.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig, EIP712, ConfidentialFungibleTokenVotes, AccessControl {␊
        bytes32 public constant HANDLE_VIEWER_ROLE = keccak256("HANDLE_VIEWER_ROLE");␊
    ␊
        constructor(address defaultAdmin, address handleViewer)␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
            EIP712("MyToken", "1")␊
        {␊
            _grantRole(DEFAULT_ADMIN_ROLE, defaultAdmin);␊
            _grantRole(HANDLE_VIEWER_ROLE, handleViewer);␊
        }␊
    ␊
        function _validateHandleAllowance(bytes32 handle)␊
            internal␊
            view␊
            override␊
            onlyRole(HANDLE_VIEWER_ROLE)␊
        {}␊
    ␊
        // The following functions are overrides required by Solidity.␊
    ␊
        function _update(address from, address to, euint64 amount)␊
            internal␊
            override(ConfidentialFungibleToken, ConfidentialFungibleTokenVotes)␊
            returns (euint64 transferred)␊
        {␊
            return super._update(from, to, amount);␊
        }␊
    ␊
        function confidentialTotalSupply()␊
            public␊
            view␊
            override(ConfidentialFungibleToken, ConfidentialFungibleTokenVotes)␊
            returns (euint64)␊
        {␊
            return super.confidentialTotalSupply();␊
        }␊
    }␊
    `

## confidentialFungible votes + timestamp

> Snapshot 1

    `// SPDX-License-Identifier: MIT␊
    // Compatible with OpenZeppelin Contracts ^5.4.0 and Confidential Contracts ^0.2.0␊
    pragma solidity ^0.8.27;␊
    ␊
    import {SepoliaConfig} from "@fhevm/solidity/config/ZamaConfig.sol";␊
    import {euint64} from "@fhevm/solidity/lib/FHE.sol";␊
    import {ConfidentialFungibleToken} from "@openzeppelin/confidential-contracts/token/ConfidentialFungibleToken.sol";␊
    import {ConfidentialFungibleTokenVotes} from "@openzeppelin/confidential-contracts/token/extensions/ConfidentialFungibleTokenVotes.sol";␊
    import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";␊
    import {EIP712} from "@openzeppelin/contracts/utils/cryptography/EIP712.sol";␊
    ␊
    contract MyToken is ConfidentialFungibleToken, SepoliaConfig, EIP712, ConfidentialFungibleTokenVotes, AccessControl {␊
        bytes32 public constant HANDLE_VIEWER_ROLE = keccak256("HANDLE_VIEWER_ROLE");␊
    ␊
        constructor(address defaultAdmin, address handleViewer)␊
            ConfidentialFungibleToken("MyToken", "MTK", "https://example.com/token")␊
            EIP712("MyToken", "1")␊
        {␊
            _grantRole(DEFAULT_ADMIN_ROLE, defaultAdmin);␊
            _grantRole(HANDLE_VIEWER_ROLE, handleViewer);␊
        }␊
    ␊
        function clock() public view override returns (uint48) {␊
            return uint48(block.timestamp);␊
        }␊
    ␊
        // solhint-disable-next-line func-name-mixedcase␊
        function CLOCK_MODE() public pure override returns (string memory) {␊
            return "mode=timestamp";␊
        }␊
    ␊
        function _validateHandleAllowance(bytes32 handle)␊
            internal␊
            view␊
            override␊
            onlyRole(HANDLE_VIEWER_ROLE)␊
        {}␊
    ␊
        // The following functions are overrides required by Solidity.␊
    ␊
        function _update(address from, address to, euint64 amount)␊
            internal␊
            override(ConfidentialFungibleToken, ConfidentialFungibleTokenVotes)␊
            returns (euint64 transferred)␊
        {␊
            return super._update(from, to, amount);␊
        }␊
    ␊
        function confidentialTotalSupply()␊
            public␊
            view␊
            override(ConfidentialFungibleToken, ConfidentialFungibleTokenVotes)␊
            returns (euint64)␊
        {␊
            return super.confidentialTotalSupply();␊
        }␊
    }␊
    `
